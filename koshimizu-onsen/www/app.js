/*! For license information please see app.js.LICENSE.txt */
"use strict";(self.webpackChunkonsenui_v2_react_minimum=self.webpackChunkonsenui_v2_react_minimum||[]).push([[143],{447:(t,e,r)=>{var n=r(7209),o=r(7294),a=r(3935),i=r(3057),c=r(1394),l=r.n(c);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:k(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var m="suspendedStart",y="suspendedYield",d="executing",v="completed",g={};function w(){}function b(){}function E(){}var x={};f(x,i,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(I([])));L&&L!==r&&n.call(L,i)&&(x=L);var O=E.prototype=w.prototype=Object.create(x);function j(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var l=p(t[o],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=m;return function(a,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=N(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:y,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(u(e)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(_.prototype),f(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(h(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(O),f(O,l,"Generator"),f(O,i,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function f(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t){var e=h((0,o.useState)(""),2),r=e[0],n=e[1],a=h((0,o.useState)(navigator.userAgent),2),l=(a[0],a[1],h((0,o.useState)(""),2)),u=l[0],p=l[1],m=h((0,o.useState)(""),2),y=m[0],d=m[1],v=h((0,o.useState)(!1),2),g=v[0],w=v[1],b=function(){var e,n=(e=s().mark((function e(){var n,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),e.prev=1,e.next=4,fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({in_charge_name:r,password:u})});case 4:if(!(n=e.sent).ok){e.next=17;break}return e.next=8,n.json();case 8:o=e.sent,console.log("response",o),o&&localStorage.setItem("inchargeData",JSON.stringify(o.token[1])),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("loginTimestamp",Date.now().toString()),console.log("{getBrowserAndDevice()}",E()),t.navigator.resetPage({component:wt}),e.next=21;break;case 17:return e.next=19,n.json();case 19:a=e.sent,c.notification.alert(a.message||"Invalid credentials!");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),c.notification.alert("Network error or server is not responding.");case 26:case"end":return e.stop()}}),e,null,[[1,23]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){f(a,n,o,i,c,"next",t)}function c(t){f(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),E=function(){var t=navigator.userAgent,e="Unknown browser",r="PC";return-1!==t.indexOf("Edg")?e="Edge":-1!==t.indexOf("Chrome")?e="Chrome":-1!==t.indexOf("Safari")?e="Safari":-1!==t.indexOf("Firefox")?e="Firefox":-1===t.indexOf("MSIE")&&1!=!!document.documentMode||(e="IE"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)&&(r="Smartphone"),"".concat(e," on ").concat(r)};return o.createElement(i.Page,null,o.createElement("div",{className:"login-container"},o.createElement("h1",{className:"main-title"},"ログイン画面"),o.createElement("div",{className:"user-agent-info"},E()),o.createElement("label",{className:"login-label"},"ユーザー名"),o.createElement(i.Input,{value:r,onChange:function(t){return n(t.target.value)},className:"login-input"}),o.createElement("label",{className:"login-label"},"パスワード"),o.createElement(i.Input,{type:"text",value:g?u:y,onChange:function(t){var e=t.target.value;p(e),d("*".repeat(e.length))},onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},onKeyDown:function(t){"Enter"!==t.key&&13!==t.keyCode||(w(!1),t.target.blur())},onCompositionEnd:function(t){t.data&&t.data.length>0&&(w(!1),t.target.blur())},className:"login-input"}),o.createElement(i.Button,{onClick:b,className:"login-button"},"ログイン")))}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(){d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof w?e:w,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:k(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",v="completed",g={};function w(){}function b(){}function E(){}var x={};u(x,i,(function(){return this}));var S=Object.getPrototypeOf,L=S&&S(S(I([])));L&&L!==r&&n.call(L,i)&&(x=L);var O=E.prototype=w.prototype=Object.create(x);function j(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==y(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=N(c,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:p,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(y(e)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=u(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(_.prototype),u(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function v(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const b=function(t){var e=g((0,o.useState)(null),2),r=e[0],n=e[1],a=(0,o.useRef)(null),c=g((0,o.useState)(""),2),l=(c[0],c[1]),u=g((0,o.useState)([]),2),s=u[0],f=u[1],h=g((0,o.useState)(!1),2),p=h[0],m=h[1],y=g((0,o.useState)(!1),2),w=y[0],b=y[1],E=g((0,o.useState)(""),2),x=E[0],S=E[1];(0,o.useEffect)((function(){l(!1===r?"File is not in UTF-16 format. Please select a valid file.":"")}),[r]);var L=function(){var t,e=(t=d().mark((function t(){var e,n,o,i,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return console.warn("Invalid file format. Please upload a UTF-16 encoded file."),t.abrupt("return");case 3:if(n=null===(e=a.current)||void 0===e?void 0:e.files[0]){t.next=7;break}return console.warn("No file selected."),t.abrupt("return");case 7:return(o=new FormData).append("file",n),t.prev=9,t.next=12,fetch("http://localhost:3000/customer_masters/import",{method:"POST",body:o});case 12:return i=t.sent,t.next=15,i.json();case 15:c=t.sent,console.log(c),i.ok?(console.log("File successfully uploaded to the backend."),b(!0)):console.error("There was an issue uploading the file."),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(9),console.error("Error uploading the file:",t.t0);case 23:case"end":return t.stop()}}),t,null,[[9,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){v(a,n,o,i,c,"next",t)}function c(t){v(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return o.createElement(i.Page,null,o.createElement("h1",null,w?"得意先マスターの登録完了":p?"得意先Mエラー登録":"得意先M登録"),p&&o.createElement("div",{style:{padding:"10px",marginTop:"20px",border:"1px solid red",borderRadius:"5px",backgroundColor:"#ffe6e6"}},o.createElement("h2",null,"エラー"),o.createElement("p",null,"得意先マスターにエラーが発生しました。"),o.createElement("ul",null,s.map((function(t,e){return o.createElement("li",{key:e},t.errors.join(", "))})))),o.createElement("p",null,p?"修正した得意先マスターのUNIファイルを指定してください。":w?"得意先マスターの登録に成功しました。":"得意先マスターのUNIファイルを指定してください。"),!w&&o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement("div",{style:{flexGrow:1,padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}},x||"ファイルが選択されていません。"),o.createElement("label",{htmlFor:"fileUpload",style:{marginLeft:"10px"}},o.createElement(i.Button,null,"選択"),o.createElement("input",{id:"fileUpload",type:"file",accept:".txt",ref:a,onChange:function(t){var e=t.target.files[0];if(!e)return n(null),void S("");S(e.name);var r=new FileReader;r.onload=function(t){var e=new Uint8Array(t.target.result);255===e[0]&&254===e[1]||254===e[0]&&255===e[1]?(n(!0),function(t){var e=t.split(/\r?\n/),r=[];if(e.length<3)l("The file is missing headers or data.");else{var n=e[0].split("\t"),o={};["得意先ｺｰﾄﾞ","得意先名１","得意先名索引","得意先分類０ｺｰﾄﾞ"].forEach((function(t){o[t]=n.indexOf(t)}));for(var i=2;i<e.length;i++){for(var c=e[i].split("\t"),u=[],s=0,h=Object.entries(o);s<h.length;s++){var p=g(h[s],2),y=p[0],d=p[1];c[d]&&c[d].trim()?"得意先ｺｰﾄﾞ"===y&&isNaN(Number(c[d]))&&u.push("行".concat(i-1,"で").concat(y,"の形式が正しくありません")):u.push("行".concat(i-1,"で").concat(y,"が不足しています"))}u.length&&r.push({rowNumber:i+1,errors:u})}r.length&&(f(r),m(!0),a.current.value="")}}(new TextDecoder("utf-16").decode(e))):n(!1)},r.readAsArrayBuffer(e)},style:{display:"none"}}))),!1===r&&o.createElement("p",{style:{color:"red",marginTop:"10px"}},"ファイルは UTF-16 形式ではありません。 有効なファイルを選択してください。"),!w&&o.createElement(i.Button,{onClick:L,className:"reg-button"},"登録"))};var E=r(2861);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function S(){S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:k(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(I([])));L&&L!==r&&n.call(L,i)&&(b=L);var O=w.prototype=v.prototype=Object.create(b);function j(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==x(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=N(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(x(e)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},j(_.prototype),u(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function L(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){L(a,n,o,i,c,"next",t)}function c(t){L(a,n,o,i,c,"throw",t)}i(void 0)}))}}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const k=function(){var t=j((0,o.useState)([]),2),e=(t[0],t[1]),r=j((0,o.useState)(""),2),n=r[0],a=r[1],c=j((0,o.useState)(""),2),l=c[0],u=c[1],s=j((0,o.useState)(null),2),f=s[0],h=s[1],p=j((0,o.useState)([]),2),m=p[0],y=p[1];(0,o.useEffect)((function(){fetch("http://localhost:3000/customers").then((function(t){return t.json()})).then((function(t){e(t),y(t)})).catch((function(t){return console.error("Error fetching data:",t)}))}),[]);var d=function(){var t=O(S().mark((function t(){var e,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.Z.get("http://localhost:3000/customermaster/search_by_name",{params:{name:n}});case 3:e=t.sent,(r=e.data)&&r.length>0?(y(r),setSearchResult(r[0]),setNoSearchResult(!1)):(y([]),setSearchResult(null),setNoSearchResult(!0)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching customers:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=O(S().mark((function t(){var e,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.Z.get("http://localhost:3000/customermaster/search_by_code",{params:{code:l}});case 3:e=t.sent,(r=e.data)&&r.length>0?(y(r),setSearchResult(r[0]),setNoSearchResult(!1)):(y([]),setSearchResult(null),setNoSearchResult(!0)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching customers by code:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return o.createElement(i.Page,null,o.createElement("h1",null,"得意先マスター確認"),o.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:"16px"}},o.createElement("label",null,"得意先名で検索:"),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},o.createElement("input",{type:"text",value:n,onChange:function(t){return a(t.target.value)},placeholder:"スペースで区切るとAND検索されます。",style:{flex:1,padding:"8px",border:"1px solid #ccc",marginRight:"8px",borderRadius:"4px"}}),o.createElement("button",{onClick:d,style:{backgroundColor:"#007BFF",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"}},"検索")),o.createElement("label",null,"得意先コードで検索:"),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("input",{type:"text",value:l,onChange:function(t){return u(t.target.value)},placeholder:"得意先コードを指定してください。",style:{flex:1,padding:"8px",border:"1px solid #ccc",marginRight:"8px",borderRadius:"4px"}}),o.createElement("button",{onClick:v,style:{backgroundColor:"#007BFF",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer"}},"検索"))),o.createElement("div",{style:{maxHeight:"calc(11 * 1.5rem)",overflowY:"auto"}}," ",o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"得意先ｺｰﾄﾞ"),o.createElement("th",null,"得意先名１"))),o.createElement("tbody",null,Array.isArray(m)&&m.map((function(t){return o.createElement("tr",{key:t.id},o.createElement("td",null,o.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),function(t){h(t)}(t)}},t.customer_code)),o.createElement("td",null,t.customer_name1))}))))),f&&o.createElement("div",null,o.createElement("h2",null,"得意先情報"),o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"得意先ｺｰﾄﾞ"),o.createElement("td",null,f.customer_code)),o.createElement("tr",null,o.createElement("td",null,"得意先名１"),o.createElement("td",null,f.customer_name1)),o.createElement("tr",null,o.createElement("td",null,"得意先名索引"),o.createElement("td",null,f.customer_name_index)),o.createElement("tr",null,o.createElement("td",null,"請求先分類名"),o.createElement("td",null,f.billing_classification_master.billing_name))))))};function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function A(){A=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==r&&n.call(x,i)&&(b=x);var S=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==N(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(N(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function P(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const C=function(t){var e=T((0,o.useState)(null),2),r=e[0],n=e[1],a=(0,o.useRef)(null),c=T((0,o.useState)(""),2),l=(c[0],c[1]),u=T((0,o.useState)([]),2),s=u[0],f=(u[1],T((0,o.useState)(!1),2)),h=f[0],p=(f[1],T((0,o.useState)(!1),2)),m=p[0],y=p[1],d=T((0,o.useState)(""),2),v=d[0],g=d[1];(0,o.useEffect)((function(){l(!1===r?"File is not in UTF-16 format. Please select a valid file.":"")}),[r]);var w=function(){var t,e=(t=A().mark((function t(){var e,n,o,i,c;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return console.warn("Invalid file format. Please upload a UTF-16 encoded file."),t.abrupt("return");case 3:if(n=null===(e=a.current)||void 0===e?void 0:e.files[0]){t.next=7;break}return console.warn("No file selected."),t.abrupt("return");case 7:return(o=new FormData).append("file",n),t.prev=9,t.next=12,fetch("http://localhost:3000/product_masters/import",{method:"POST",body:o});case 12:return i=t.sent,t.next=15,i.json();case 15:c=t.sent,console.log(c),i.ok?(console.log("File successfully uploaded to the backend."),y(!0)):console.error("There was an issue uploading the file."),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(9),console.error("Error uploading the file:",t.t0);case 23:case"end":return t.stop()}}),t,null,[[9,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){P(a,n,o,i,c,"next",t)}function c(t){P(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return o.createElement(i.Page,null,o.createElement("h1",null,m?"商品マスターの登録完了":h?"商品Mエラー登録":"商品M登録"),h&&o.createElement("div",{style:{padding:"10px",marginTop:"20px",border:"1px solid red",borderRadius:"5px",backgroundColor:"#ffe6e6"}},o.createElement("h2",null,"エラー"),o.createElement("p",null,"商品マスターにエラーが発生しました。"),o.createElement("ul",null,s.map((function(t,e){return o.createElement("li",{key:e},t.errors.join(", "))})))),o.createElement("p",null,h?"修正した商品マスターのUNIファイルを指定してください。":m?"商品マスターの登録に成功しました。":"商品マスターのUNIファイルを指定してください。"),!m&&o.createElement("div",{style:{display:"flex",alignItems:"center"}},o.createElement("div",{style:{flexGrow:1,padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}},v||"ファイルが選択されていません。"),o.createElement("label",{htmlFor:"fileUpload",style:{marginLeft:"10px"}},o.createElement(i.Button,null,"選択"),o.createElement("input",{id:"fileUpload",type:"file",accept:".txt",ref:a,onChange:function(t){var e=t.target.files[0];if(!e)return n(null),void g("");g(e.name);var r=new FileReader;r.onload=function(t){var e=new Uint8Array(t.target.result);255===e[0]&&254===e[1]||254===e[0]&&255===e[1]?(n(!0),function(t){var e=[],r="商品名",n=t.trim().split("\n");if(n.length<2)return e.push("File has fewer than 2 lines."),e;var o=n[0].split(",").indexOf(r);if(-1===o)return e.push("Column ".concat(r," not found.")),e;for(var a=1;a<n.length;a++)n[a].split(",")[o].trim()||e.push("Row ".concat(a+1," is missing ").concat(r,"."));console.log(e)}(new TextDecoder("utf-16").decode(e))):n(!1)},r.readAsArrayBuffer(e)},style:{display:"none"}}))),!1===r&&o.createElement("p",{style:{color:"red",marginTop:"10px"}},"ファイルは UTF-16 形式ではありません。 有効なファイルを選択してください。"),!m&&o.createElement(i.Button,{onClick:w,className:"reg-button"},"登録"))},F=function(t){return t.props,o.createElement("div",null,o.createElement("p",{style:{fontSize:"x-large",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報の登録完了"),o.createElement("p",{style:{fontSize:"medium",marginTop:"50px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報の登録に成功しました。"))};function R(t,e){var r=new FileReader;r.onload=function(t){var r=new Uint8Array(t.target.result);r.length>=2&&255===r[0]&&254===r[1]?e(!0):e(!1)},r.readAsArrayBuffer(t.slice(0,2))}function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function D(){D=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new A(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,i)&&(b=x);var S=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==G(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(G(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function U(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==G(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===G(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const J=function(t){var e=t.errorList,r=t.errorRow,n=z((0,o.useState)(!0),2),a=n[0],c=n[1],l=z((0,o.useState)(!1),2),u=l[0],s=l[1],f=z((0,o.useState)(!1),2),h=f[0],p=f[1],m=z((0,o.useState)(""),2),y=m[0],d=m[1],v=z((0,o.useState)([]),2),g=v[0],w=v[1],b=z((0,o.useState)([]),2),E=b[0],x=b[1],S=z((0,o.useState)(null),2),L=S[0],O=S[1],j=(0,o.useRef)(null),_=z((0,o.useState)([]),2),k=_[0],N=_[1];(0,o.useEffect)((function(){A(e,r)}),[]);var A=function(t,e){var r=t.map((function(t,r){return B(B({},t),{},{errorRow:e[r]})}));N(r)},P=function(){var t,e=(t=D().mark((function t(e){var r;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("ユーザーデータリスト 印刷：",e),t.next=4,fetch("http://127.0.0.1:3000/personincharge/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if(200!==(r=t.sent).status){t.next=13;break}return t.t0=console,t.next=9,r.json();case 9:t.t1=t.sent,t.t0.log.call(t.t0,"インポート成功⇒APIからのレスポンスデータ:",t.t1),t.next=18;break;case 13:return t.t2=console,t.next=16,r.json();case 16:t.t3=t.sent,t.t2.log.call(t.t2,"インポート失敗:",t.t3);case 18:t.next=23;break;case 20:t.prev=20,t.t4=t.catch(0),console.error("ネットワークエラーが発生しました。",t.t4);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){U(a,n,o,i,c,"next",t)}function c(t){U(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return o.createElement("div",null,u&&o.createElement(F,null),a&&o.createElement("div",null,o.createElement("p",{style:{fontSize:"x-large",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報の登録エラー"),o.createElement(i.Row,null,o.createElement("p",{style:{fontSize:"medium",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報にエラーが発生しました。")),k.length>0?o.createElement(i.Row,{style:{marginTop:"30px"}},o.createElement(i.Col,null,o.createElement("label",{className:"custom-label",style:{width:"80%"}},"エラーリスト"),o.createElement("table",{style:{width:"80%"}},k.map((function(t){return o.createElement("tr",{key:t},o.createElement("th",null,o.createElement("p",{style:{fontSize:"15px",color:"red"}},"Row: ",t.errorRow),"  "),o.createElement("td",null,o.createElement("ul",null,"   ",!t.担当者ｺｰﾄﾞ&&o.createElement("li",{style:{fontSize:"15px",color:"red"}}," 担当者ｺｰﾄﾞ を入力してください。"),!t.担当者名&&o.createElement("li",{style:{fontSize:"15px",color:"red"}}," 担当者名 を入力してください。"),!t.担当者ﾌﾘｶﾞﾅ&&o.createElement("li",{style:{fontSize:"15px",color:"red"}}," 担当者ﾌﾘｶﾞﾅ を入力してください。"))))}))))):null,k.length>0?o.createElement("p",{style:M({fontSize:"medium",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"},"marginTop","20px")},"修正したユーザー情報のUNIファイルを指定してください。"):null,o.createElement(i.Row,{style:{marginTop:"30px"}},"ファイル名：      ",o.createElement(i.Input,{outline:!0,className:"custom-input-exportfile",label:"searchText",type:"text",style:{fontSize:"10px"},value:y,readonly:!0}),o.createElement("input",{type:"file",accept:".txt",ref:j,style:{display:"none"},onChange:function(t){var e;w([]),x([]);var r=t.target.files[0];O(r),d((null===(e=t.target.files[0])||void 0===e?void 0:e.name)||""),p(!1),r&&R(r,(function(t){1==t?(console.log("UTF16 ファイル:",t),p(!0)):(p(!1),alert("UTF16 ファイルを選択してください。 !!!."))}))}}),o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"selectfileBtn",onClick:function(){return j.current.click()}},"選択")),o.createElement(i.Row,null,o.createElement(i.Col,{width:"50"}),o.createElement(i.Col,{width:"50"},o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"downloadLog",style:{marginTop:"10px"},onClick:function(){N([]);var t=new FileReader;t.onload=function(t){var e=t.target.result.split("\n"),r=[],n=[];e.forEach((function(t,o){var a=e[o].split("\t");if(0===o)n.push(a);else if(o>1)for(var i={},c=!0,l=!1,u=0;u<n.length;u++){for(var s=0;s<n[u].length;s++)console.log("headerRow印刷",n[u][s]),("担当者ｺｰﾄﾞ"===n[u][s]||"担当者名"===n[u][s]||"担当者ﾌﾘｶﾞﾅ"===n[u][s])&&(i[n[u][s]]=a[s],a[s]?l=!0:c=!1);1==l&&(1==c?r.push(i):(g.push(i),E.push(o)))}})),g.length>0?(c(!0),s(!1),A(g,E)):(c(!1),s(!0),P(r))},t.readAsText(L,"UTF-16"),N([])},disabled:!h},"登録")))))};function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function Z(){Z=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new A(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,i)&&(b=x);var S=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==H(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(H(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function q(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const X=function(t){t.navigator;var e=K((0,o.useState)([]),2),r=e[0],n=(e[1],K((0,o.useState)([]),2)),a=n[0],c=(n[1],K((0,o.useState)(!1),2)),l=c[0],u=c[1],s=K((0,o.useState)([]),2),f=(s[0],s[1],K((0,o.useState)(!1),2)),h=(f[0],f[1],K((0,o.useState)(null),2)),p=h[0],m=h[1],y=(0,o.useRef)(null),d=K((0,o.useState)([]),2),v=(d[0],d[1],K((0,o.useState)(""),2)),g=v[0],w=v[1],b=K((0,o.useState)(!1),2),E=b[0],x=b[1],S=K((0,o.useState)(!1),2),L=S[0],O=S[1],j=K((0,o.useState)(!0),2),_=j[0],k=j[1],N=function(){var t,e=(t=Z().mark((function t(e){var r;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://127.0.0.1:3000/personincharge/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:if(200!==(r=t.sent).status){t.next=12;break}return t.t0=console,t.next=8,r.json();case 8:t.t1=t.sent,t.t0.log.call(t.t0,"インポート成功⇒APIからのレスポンスデータ:",t.t1),t.next=17;break;case 12:return t.t2=console,t.next=15,r.json();case 15:t.t3=t.sent,t.t2.log.call(t.t2,"インポート失敗:",t.t3);case 17:t.next=22;break;case 19:t.prev=19,t.t4=t.catch(0),console.error("ネットワークエラーが発生しました。",t.t4);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){q(a,n,o,i,c,"next",t)}function c(t){q(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return o.createElement(i.Page,{contentStyle:{overflowY:"scroll",height:"100%"}},E&&o.createElement(J,{errorList:r,errorRow:a}),L&&o.createElement(F,null),_&&o.createElement("div",null,o.createElement("p",{style:{fontSize:"x-large",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報登録"),o.createElement(i.Row,null,o.createElement("p",{style:{fontSize:"medium",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ユーザー情報のUNIファイルを指定してください。")),a.length>0&&o.createElement("div",null,o.createElement("h3",null,"Error Rows:"),o.createElement("ul",null,a.map((function(t,e){return o.createElement("li",{key:e},"Row ",t)})))),o.createElement(i.Row,{style:{marginTop:"30px"}},"ファイル名：",o.createElement(i.Input,{outline:!0,className:"custom-input-exportfile",label:"searchText",type:"text",style:{fontSize:"10px"},value:g,readonly:!0}),o.createElement("input",{type:"file",accept:".txt",ref:y,style:{display:"none"},onChange:function(t){var e,r=t.target.files[0];m(r),w((null===(e=t.target.files[0])||void 0===e?void 0:e.name)||""),u(!1),r&&R(r,(function(t){1==t?(console.log("UTF16 ファイル:",t),u(!0)):(u(!1),alert("UTF16 ファイルを選択してください。 !!!."))}))}}),o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"selectfileBtn",onClick:function(){return y.current.click()}},"選択")),o.createElement(i.Row,null,o.createElement(i.Col,{width:"50"}),o.createElement(i.Col,{width:"50"},o.createElement(i.Button,{large:!0,raised:!0,fill:!0,style:{marginTop:"10px"},onClick:function(){var t=new FileReader;t.onload=function(t){var e=t.target.result.split("\n"),n=[],o=[];e.forEach((function(t,i){var c=e[i].split("\t");if(0===i)o.push(c);else if(i>1)for(var l={},u=!0,s=!1,f=0;f<o.length;f++){for(var h=0;h<o[f].length;h++)console.log("headerRow印刷",o[f][h]),("担当者ｺｰﾄﾞ"===o[f][h]||"担当者名"===o[f][h]||"担当者ﾌﾘｶﾞﾅ"===o[f][h])&&(l[o[f][h]]=c[h],c[h]?s=!0:u=!1);1==s&&(1==u?n.push(l):(r.push(l),a.push(i)))}})),r.length>0?(x(!0),k(!1),O(!1),console.log("エラーデータリストの印刷",r),console.log("エラー行リストの印刷",a)):(O(!0),x(!1),k(!1),N(n))},t.readAsText(p,"UTF-16")},disabled:!l},"登録")))))};function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}var V=["log_number"];function tt(){tt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new A(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,i)&&(b=x);var S=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Q(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Q(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function et(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function rt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){et(a,n,o,i,c,"next",t)}function c(t){et(a,n,o,i,c,"throw",t)}i(void 0)}))}}function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const at=function(){var t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=nt((0,o.useState)("".concat(e).concat(r).concat(n)),2),c=a[0],l=(a[1],nt((0,o.useState)(""),2)),u=l[0],s=l[1],f=nt((0,o.useState)(""),2),h=f[0],p=f[1],m=nt((0,o.useState)(""),2),y=m[0],d=m[1],v=nt((0,o.useState)([]),2),g=v[0],w=v[1],b=nt((0,o.useState)([]),2),E=b[0],x=b[1],S=nt((0,o.useState)(!0),2),L=S[0],O=S[1],j=nt((0,o.useState)(!1),2),_=j[0],k=j[1],N=nt((0,o.useState)(!1),2),A=N[0],P=N[1],T=nt((0,o.useState)(""),2),I=T[0],C=T[1],F=nt((0,o.useState)(!1),2),R=F[0],G=F[1],D=["タイムスタンプ","区分","処理名","メッセージ","ユーザー名"],U=function(){var t=rt(tt().mark((function t(){var e,r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,w([]),t.next=4,fetch("http://127.0.0.1:3000/infolog/search_by_date_range?from_date=".concat(u,"&to_date=").concat(h));case 4:if((e=t.sent).ok){t.next=7;break}throw new Error("ネットワークエラーが発生しました。");case 7:return t.next=9,e.json();case 9:r=t.sent,P(!0),G(!1),w(r),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("データ取得エラー:",t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=rt(tt().mark((function t(){var e,r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x([]),t.prev=1,w([]),t.next=5,fetch("http://127.0.0.1:3000/errorlog/search_by_date_range?from_date=".concat(u,"&to_date=").concat(h));case 5:if((e=t.sent).ok){t.next=8;break}throw new Error("ネットワークエラーが発生しました。");case 8:return t.next=10,e.json();case 10:r=t.sent,P(!0),G(!1),x(r),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("データ取得エラー:",t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}}(),B=function(t,e){d(t&&e&&t>e?"開始日は終了日より前である必要があります。":"")},M=function(t){try{var e=function(t){return t.map((function(t){return t.log_number,function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,V)}))}(t),r=z(D,e),n=new Blob([r],{type:"application/octet-stream"}),o=URL.createObjectURL(n),a=document.createElement("a");if(a.href=o,I){var i=I+".csv";a.setAttribute("download",i)}else{var l=c+"Log.csv";a.setAttribute("download",l)}var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});a.dispatchEvent(u),URL.revokeObjectURL(o)}catch(t){console.error("エラーデータ:",t)}},z=function(t,e){return function(t){t.map((function(t){var e=Object.keys(t),r=e[e.length-1];return t[r]="'"+t[r],t}))}(e),"\ufeff"+t.join(",")+"\n"+e.map((function(t){return"'"+Object.values(t).join(",")+"\n"})).join("")};return o.createElement(i.Page,{contentStyle:{overflowY:"scroll",height:"100%"}},o.createElement("p",{style:{fontSize:"x-large",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"ログ確認"),o.createElement(i.Row,null,o.createElement("label",{className:"custom-label"},"日付検索")),o.createElement(i.Row,null,o.createElement(i.Col,{className:"custom-search-input"},o.createElement(i.Input,{className:"fromDate",outline:!0,type:"text",value:u,placeholder:"YYYY/MM/DD",onChange:function(t){var e=t.target.value;console.log("開始日",e),s(e),B(e,h)}}),y&&o.createElement("div",{style:{color:"red"}},y)),o.createElement(i.Col,{className:"interfaceDiv"},"~"),o.createElement(i.Col,{className:"custom-table-input"},o.createElement(i.Input,{className:"toDate",outline:!0,type:"text",id:"toDate",value:h,placeholder:"YYYY/MM/DD",onChange:function(t){var e=t.target.value;console.log("終了日",e),p(e),B(u,e)}})),o.createElement(i.Col,null,o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"searchBtn",onClick:function(){u&&h?(U(),Y()):(w([]),x([]),G(!0))}},"検索"))),o.createElement(i.Row,{style:{marginTop:"30px"}},o.createElement(i.Col,{width:"30"},o.createElement("label",{className:"custom-label"},"ログリスト")),o.createElement(i.Col,{width:"25"},o.createElement("input",{type:"checkbox",name:"my-checkbox1",className:"infoCheckbox",checked:L,onChange:function(){O((function(t){return!t}))}}),o.createElement("span",null,"機能ログ")),o.createElement(i.Col,{width:"35"},o.createElement("input",{type:"checkbox",name:"my-checkbox2",checked:_,onChange:function(){k((function(t){return!t}))}}),o.createElement("span",null,"エラーログ")),o.createElement(i.Col,{width:"100"},o.createElement(i.List,{className:"custom-list"},o.createElement(i.ListItem,{style:{background:"#d3d3d3"}},o.createElement("div",{className:"customcontentLog",style:{width:"150px"}},"タイムスタンプ"),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},"区分"),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},"処理名"),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},"メッセージ"),o.createElement("div",{className:"customcontentLog",style:{width:"100px",textAlign:"center"}},"ユーザー名")),L&&g.map((function(t){return o.createElement(i.ListItem,null,o.createElement("div",{className:"customcontentLog",style:{width:"150px"}},o.createElement("span",null,"".concat(new Date(t.timestamp).getFullYear(),"/").concat(String(new Date(t.timestamp).getMonth()+1).padStart(2,"0"),"/").concat(String(new Date(t.timestamp).getDate()).padStart(2,"0"))," ",new Date(t.timestamp).toLocaleTimeString())),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.category),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.process_name),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.message),o.createElement("div",{className:"customcontentLog",style:{width:"100px",textAlign:"center"}},t.in_charge_code))})),_&&E.map((function(t){return o.createElement(i.ListItem,null,o.createElement("div",{className:"customcontentLog",style:{width:"150px"}},o.createElement("span",null,"".concat(new Date(t.timestamp).getFullYear(),"/").concat(String(new Date(t.timestamp).getMonth()+1).padStart(2,"0"),"/").concat(String(new Date(t.timestamp).getDate()).padStart(2,"0"))," ",new Date(t.timestamp).toLocaleTimeString())),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.category),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.process_name),o.createElement("div",{className:"customcontentLog",style:{textAlign:"center"}},t.message),o.createElement("div",{className:"customcontentLog",style:{width:"100px",textAlign:"center"}},t.in_charge_code))}))))),!A||0!=g.length&&0!=E.length?null:o.createElement(i.Row,null,o.createElement("div",{style:{color:"red",fontSize:"14px",marginLeft:"10px"}},"検索データが見つかりません!!!")),o.createElement(i.Row,{style:{marginTop:"15px"}},o.createElement(i.Col,{width:"20"},"出力ファイル名：     "),o.createElement(i.Col,{width:"80"},o.createElement(i.Input,{outline:!0,className:"custom-input-exportfile",label:"searchText",type:"text",style:{fontSize:"10px",width:"100%"},value:I,onChange:function(t){C(t.target.value)}}))),1==R&&o.createElement(i.Row,null,o.createElement("div",{style:{color:"red",fontSize:"14px",marginLeft:"10px"}},"日付でデータを検索してください!!!")),o.createElement(i.Row,{style:{marginTop:"50px"}},o.createElement(i.Col,{width:"30"}),o.createElement(i.Col,{width:"40"},o.createElement("div",{style:{textAlign:"center"}},o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"downloadLog",style:{marginTop:"10px"},onClick:function(){if(A)if(L&&_){var t=g.concat(E);M(t)}else L?M(g):_&&M(E);else G(!0)}},"ダウンロード"))),o.createElement(i.Col,{width:"30"})))};function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(r),!0).forEach((function(e){var n,o,a;n=t,o=e,a=r[e],(o=function(t){var e=function(t,e){if("object"!==it(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===it(e)?e:String(e)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ut(t){return function(t){if(Array.isArray(t))return yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||mt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(){st=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new A(n||[]);return o(i,"_invoke",{value:j(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",y="completed",d={};function v(){}function g(){}function w(){}var b={};u(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(P([])));x&&x!==r&&n.call(x,i)&&(b=x);var S=w.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==it(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function j(e,r,n){var o=h;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=_(c,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:p,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(it(e)+" is not iterable")}return g.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function ft(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ft(a,n,o,i,c,"next",t)}function c(t){ft(a,n,o,i,c,"throw",t)}i(void 0)}))}}function pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||mt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t,e){if(t){if("string"==typeof t)return yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(t,e):void 0}}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const dt=function(){var t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=pt((0,o.useState)("".concat(e).concat(r).concat(n)),2),c=a[0],l=(a[1],pt((0,o.useState)(""),2)),u=l[0],s=l[1],f=pt((0,o.useState)(""),2),h=f[0],p=f[1],m=pt((0,o.useState)(""),2),y=m[0],d=m[1],v=pt((0,o.useState)(!1),2),g=v[0],w=v[1],b=pt((0,o.useState)([]),2),E=b[0],x=b[1],S=pt((0,o.useState)([]),2),L=S[0],O=S[1],j=pt((0,o.useState)([]),2),_=j[0],k=j[1],N=pt((0,o.useState)(!1),2),A=N[0],P=N[1],T=pt((0,o.useState)(!1),2),I=T[0],C=T[1],F=pt((0,o.useState)(""),2),R=F[0],G=F[1],D=["受注日付","受注№","得意先ｺｰﾄﾞ","得意先名１","納品先ｺｰﾄﾞ","納品先名","担当者ｺｰﾄﾞ","担当者名","売掛区分","売掛区分名","納品日","倉庫ｺｰﾄﾞ","倉庫名","商品ｺｰﾄﾞ","商品名","数量","数量単位ﾞ","備考ｺｰﾄﾞ","備考"],U=function(t,e){d(t&&e&&t>e?"開始日は終了日より前である必要があります。":"")},Y=function(){var t=ht(st().mark((function t(e){var r,n;return st().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://127.0.0.1:3000/order/updateflagdata",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return r=t.sent,t.next=6,r.json();case 6:if(n=t.sent,console.log(" APIからのレスポンスデータ:",n),r.ok){t.next=10;break}throw new Error("ネットワークエラーが発生しました。");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("データ取得エラー:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=ht(st().mark((function t(){var e,r;return st().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!u||!h){t.next=18;break}return t.next=4,fetch("http://127.0.0.1:3000/orders/search_by_date_range?from_date=".concat(u,"&to_date=").concat(h));case 4:if((e=t.sent).ok){t.next=7;break}throw new Error("ネットワークエラーが発生しました。");case 7:return t.next=9,e.json();case 9:r=t.sent,console.log("APIからのレスポンスデータ:",r),P(!0),C(!1),x(r),O(r.filter((function(t){return 0===t.printed_flag}))),k(r.filter((function(t){return 1===t.printed_flag}))),t.next=20;break;case 18:x([]),C(!0);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.error("データ取得エラー:",t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(){return t.apply(this,arguments)}}(),M=function(){w(!1)},z=function(){A&&($(L),J(L))},$=function(t){try{var e="\ufeff"+D.join("\t")+"\r\n",r=t.map((function(t){return"".concat(t.order_date,"\t").concat(t.order_number,"\t").concat(t.customer_code,"\t").concat(t.customer_name,"\t").concat(t.delivery_destination_code,"\t").concat(t.delivery_destination_name,"\t").concat(t.in_charge_code,"\t").concat(t.in_charge_name,"\t").concat(t.account_type,"\t").concat(t.account_type_name,"\t").concat(t.delivery_date,"\t").concat(t.warehouse_code,"\t").concat(t.warehouse_name,"\t").concat(t.product_code,"\t").concat(t.product_name,"\t").concat(t.quantity,"\t").concat(t.quantity_unit,"\t").concat(t.remark_code,"\t").concat(t.remarks)})).join("\r\n"),n=new Uint16Array(ut(e).map((function(t){return t.charCodeAt(0)})).concat(ut(r).map((function(t){return t.charCodeAt(0)})))),o=new Blob([n.buffer],{type:"text/plain;charset=utf-16le"}),a=URL.createObjectURL(o),i=document.createElement("a");if(i.href=a,R){var l=R+".txt";i.setAttribute("download",l)}else{var u=c+"OrderOutput.txt";i.setAttribute("download",u)}var s=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});i.dispatchEvent(s),URL.revokeObjectURL(a)}catch(t){console.error("エラーデータ:",t)}M()},J=function(t){var e=t.map((function(t){return lt(lt({},t),{},{printed_flag:1})}));Y(e)};return o.createElement(i.Page,{contentStyle:{overflowY:"scroll",height:"100%"}},o.createElement("p",{style:{fontSize:"x-large",marginTop:"-17px",padding:"10px",textAlign:"center",color:"#000"}},"受注情報出力"),o.createElement(i.Row,null,o.createElement("label",{className:"custom-label"},"納品日検索")),o.createElement(i.Row,null,o.createElement(i.Col,{className:"custom-search-input"},o.createElement(i.Input,{className:"fromDate",outline:!0,type:"text",value:u,placeholder:"YYYY/MM/DD",onChange:function(t){var e=t.target.value;s(e),U(e,h)}}),y&&o.createElement("div",{style:{color:"red"}},y)),o.createElement(i.Col,{className:"interfaceDiv"},"~"),o.createElement(i.Col,{className:"custom-table-input"},o.createElement(i.Input,{className:"toDate",outline:!0,type:"text",id:"toDeliveryDate",value:h,placeholder:"YYYY/MM/DD",onChange:function(t){var e=t.target.value;p(e),U(u,e)}})),o.createElement(i.Col,null,o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"searchBtn",onClick:B},"検索"))),o.createElement(i.Row,{style:{marginTop:"30px"}},o.createElement("label",{className:"custom-label"},"検索結果"),o.createElement(i.Col,{width:"100"},o.createElement(i.List,{className:"custom-list",style:{overflowY:"scroll"}},o.createElement(i.ListItem,{style:{background:"#d3d3d3"}},o.createElement("div",{className:"customcontent"},"納品日"),o.createElement("div",{className:"customcontent"},"受注日付"),o.createElement("div",{className:"customcontent"},"受注№"),o.createElement("div",{className:"customcontent"},"得意先名"),o.createElement("div",{className:"customcontent"},"商品名"),o.createElement("div",{className:"customcontent"},"出力済みフラグ")),E.length>0&&E.map((function(t){return o.createElement(i.ListItem,{key:t.orderNo},o.createElement("div",{className:"customcontent"},t.delivery_date),o.createElement("div",{className:"customcontent"},t.order_date),o.createElement("div",{className:"customcontent"},t.order_number),o.createElement("div",{className:"customcontent"},t.customer_name),o.createElement("div",{className:"customcontent"},t.product_name),o.createElement("div",{className:"customcontent"},1===t.printed_flag?o.createElement("span",null,"過去に出力済み"):o.createElement("span",null,"未出力")))}))))),A&&0==E.length?o.createElement(i.Row,null,o.createElement("div",{style:{color:"red",fontSize:"14px",marginLeft:"10px"}},"検索データが見つかりません!!!")):null,o.createElement(i.Row,{style:{marginTop:"15px"}},o.createElement(i.Col,{width:"20"},"出力ファイル名：     "),o.createElement(i.Col,{width:"80"},o.createElement(i.Input,{outline:!0,className:"custom-input-exportfile",label:"searchText",type:"text",style:{fontSize:"10px",width:"100%"},value:R,onChange:function(t){G(t.target.value)}}))),1==I&&o.createElement(i.Row,null,o.createElement("div",{style:{color:"red",fontSize:"14px",marginLeft:"10px"}},"納品日でデータを検索してください!!!")),o.createElement(i.Row,{style:{marginTop:"30px"}},o.createElement(i.Col,{width:"50"}),o.createElement(i.Col,{width:"50"},o.createElement(i.Button,{large:!0,raised:!0,fill:!0,className:"downloadLog",style:{marginTop:"10px"},onClick:function(){A?_.length>0?w(!0):z():C(!0)}},"出力"))),o.createElement(i.Dialog,{isOpen:g},o.createElement(i.Page,null,o.createElement("p",{style:{fontSize:"medium",marginTop:"25px",textAlign:"center",color:"#000"}},"過去に出力した受注情報ですが再出力しますか？"),o.createElement("p",{style:{fontSize:"medium",marginTop:"5px",textAlign:"center",color:"#000"}},"はい：出力済みを含むすべての受注情報を出力"),o.createElement("p",{style:{fontSize:"medium",marginTop:"5px",textAlign:"center",color:"#000"}},"いいえ：未出力の受注情報のみ出力"),o.createElement(i.Row,{style:{marginTop:"30px"}},o.createElement(i.Col,null),o.createElement(i.Col,null,o.createElement(i.Button,{large:!0,raised:!0,fill:!0,onClick:function(){A&&($(E),L.length>0&&J(L))},className:"yesBtn"},"はい")),o.createElement(i.Col,null,o.createElement(i.Button,{large:!0,raised:!0,fill:!0,onClick:z,className:"noBtn"},"いいえ")),o.createElement(i.Col,null,o.createElement(i.Button,{large:!0,raised:!0,fill:!0,onClick:M},"キャンセル")),o.createElement(i.Col,null)))))},vt=function(){return o.createElement(i.Page,null,o.createElement("h1",null,"This is Page 2"),o.createElement("p",null,"Content for page 2..."))};function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const wt=function(t){var e,r,n=(e=(0,o.useState)((function(){return o.createElement(b,{navigator:t.navigator})})),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],c=n[1],l=[{title:"得意先マスター登録",component:function(){return o.createElement(b,{navigator:t.navigator,changeActiveComponent:u})}},{title:"得意先マスター確認",component:function(){return o.createElement(k,{navigator:t.navigator})}},{title:"商品マスター登録",component:function(){return o.createElement(C,{navigator:t.navigator})}},{title:"商品マスター確認・編集",component:function(){return o.createElement(vt,{navigator:t.navigator})}},{title:"受注情報出力",component:function(){return o.createElement(dt,{navigator:t.navigator})}},{title:"ユーザー登録",component:function(){return o.createElement(X,{navigator:t.navigator})}},{title:"ログ確認",component:function(){return o.createElement(at,{navigator:t.navigator})}}],u=function(t){c(t)};return o.createElement(i.Page,null,o.createElement("div",{className:"dashboard-container"},o.createElement("div",{className:"custom-sidebar"},o.createElement("div",{style:{backgroundColor:"#2c3e50",padding:"15px",textAlign:"center",fontWeight:"bold",fontSize:"20px",color:"#fff"}},"KOSHIMIZU"),o.createElement(i.List,{dataSource:l,renderRow:function(t){return o.createElement("div",{key:t.title,className:"menu-items",onClick:function(){c(t.component())}},t.title)}}),o.createElement(i.Button,{onClick:function(){t.navigator.resetPage({component:m})},className:"logout-btn"},"ログアウト")),o.createElement("div",{className:"main-content"},a)))};function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bt.apply(this,arguments)}r(8408),r(8777),l().platform.isIPhoneX()&&(document.documentElement.setAttribute("onsflag-iphonex-portrait",""),document.documentElement.setAttribute("onsflag-iphonex-landscape",""));var Et=localStorage.getItem("isLoggedIn"),xt=localStorage.getItem("loginTimestamp"),St=!Et||!xt||Date.now()-parseInt(xt,10)>36e5?{component:m,key:"APP"}:{component:wt,key:"DASHBOARD"},Lt=document.getElementById("app");a.render(o.createElement(n.zj,null,o.createElement(i.Navigator,{initialRoute:St,renderPage:function(t,e){var r=t.component;return o.createElement(r,bt({key:t.key,navigator:e},t.props))}})),Lt)}},t=>{t.O(0,[322],(()=>(447,t(t.s=447)))),t.O()}]);